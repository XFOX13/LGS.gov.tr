<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cute Fox Login (Fixed Layout & Animations)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <style>
    /* Reset & base */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
      font-family: 'Segoe UI', Verdana, Geneva, Tahoma, sans-serif;
    }
    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    /* Container */
    .login-container {
      background: #fff4eb;
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(250, 117, 47, 0.15);
      padding: 28px;
      width: 100%;
      max-width: 760px;
      display: flex;
      gap: 28px;
      align-items: center;
      justify-content: center;
      overflow: visible; /* allow parts of the fox to be visible outside container */
      position: relative;
    }

    /* Left: fox area */
    .fox-area {
      width: 320px;
      min-width: 220px;
      height: 360px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: visible;
      pointer-events: none;
      user-select: none;
    }

    /* Keep head, body, tail and paws positioned relative to wrapper */
    .fox-wrapper {
      width: 260px;
      height: 340px;
      position: relative;
      display: block;
      overflow: visible;
    }

    /* Body */
    .fox-body {
      position: absolute;
      left: 50%;
      top: 160px;
      transform: translateX(-50%);
      width: 200px;
      z-index: 2;
      pointer-events: none;
    }
    .fox-body img { width: 100%; display: block; }

    /* Tail */
    .fox-tail {
      position: absolute;
      left: 10%;
      top: 170px;
      width: 140px;
      transform-origin: 85% 20%;
      z-index: 1;
      animation: tail-wiggle 1.4s infinite ease-in-out;
      filter: drop-shadow(2px 6px 12px rgba(250,117,47,0.14));
    }

    @keyframes tail-wiggle {
      0%   { transform: rotate(18deg); }
      20%  { transform: rotate(-10deg); }
      40%  { transform: rotate(28deg); }
      60%  { transform: rotate(-6deg); }
      80%  { transform: rotate(20deg); }
      100% { transform: rotate(18deg); }
    }

    /* Head */
    .fox-head {
      position: absolute;
      left: 50%;
      top: 16px;
      transform: translateX(-50%);
      width: 170px;
      height: 170px;
      z-index: 3;
      pointer-events: none;
    }
    .fox-head img { width: 100%; height: 100%; display:block; }

    /* Eyes overlay */
    .fox-eyes {
      position: absolute;
      left: 50%;
      top: 16px;
      transform: translateX(-50%);
      width: 170px;
      height: 170px;
      z-index: 4;
      pointer-events: none;
    }

    .fox-eye {
      position: absolute;
      width: 18px;
      height: 18px;
      background: #2c210f;
      border-radius: 50%;
      border: 3px solid #160d05;
      top: 84px;
      transition: transform 0.12s linear;
      box-shadow: 0 2px 0 #fff6ee inset;
      display: flex;
      align-items: center;
      justify-content: center;
      transform-origin: center;
    }
    .fox-eye.left  { left: 28px; }
    .fox-eye.right { right: 28px; }

    .fox-eye .fox-eye-shine {
      width: 4px; height: 4px;
      background: #fff;
      border-radius: 50%;
      position: absolute;
      left: 4px; top: 3px;
      opacity: 0.95;
    }

    /* Paws */
    .fox-paw {
      position: absolute;
      width: 32px;
      height: 22px;
      background: #fa752f;
      border-radius: 42% 58% 60% 40%/60% 60% 60% 60%;
      border: 2px solid #c85a1a;
      z-index: 10;
      transition: transform 0.28s cubic-bezier(.51,-0.01,.28,1.01), opacity 0.18s;
      opacity: 0;
      top: 110px;
      box-shadow: 0 2px 10px rgba(250,117,47,0.13);
    }
    .fox-paw.left  { left: 38px; transform: rotate(-8deg); }
    .fox-paw.right { right: 38px; transform: rotate(8deg); }

    .fox-paw .fox-claw {
      position: absolute;
      width: 3px; height: 3px;
      background: #fff6ee;
      border-radius: 50%;
      bottom: 1px;
      left: 3px;
      box-shadow: 6px 0 #fff6ee, 11px 0 #fff6ee;
      opacity: 0.8;
    }

    /* States: cover & peek */
    .fox-paw.cover {
      opacity: 1;
      transform: translateY(-22px) scale(1.1) rotate(-36deg);
    }
    .fox-paw.cover.right {
      transform: translateY(-22px) scale(1.1) rotate(36deg);
    }
    .fox-paw.peek {
      opacity: 1;
      transform: translateY(2px) scale(1.03) rotate(-10deg);
    }
    .fox-paw.peek.right {
      opacity: 1;
      transform: translateY(-10px) scale(1.06) rotate(28deg);
    }

    /* Right: login form */
    .login-form {
      display: flex;
      flex-direction: column;
      gap: 18px;
      width: 380px;
      max-width: 50%;
    }
    .input-group { position: relative; width: 100%; }
    label {
      font-size: 0.95em;
      color: #fa752f;
      font-weight: 600;
      margin-bottom: 4px;
      display: block;
      letter-spacing: 0.02em;
    }
    input[type="email"], input[type="password"], input[type="text"] {
      width: 100%;
      padding: 12px 44px 12px 14px;
      border-radius: 8px;
      border: 2px solid rgba(250,117,47,0.27);
      font-size: 1em;
      transition: border 0.18s;
      outline: none;
      background: #fff;
      color: #333;
      font-family: inherit;
      margin-top: 2px;
    }
    input:focus {
      border: 2px solid #fa752f;
    }
    .show-password-btn {
      position: absolute;
      right: 10px;
      top: 52%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #fa752f;
      font-size: 1.15em;
      cursor: pointer;
      padding: 0 2px;
      user-select: none;
    }
    .login-btn {
      margin-top: 6px;
      background: linear-gradient(90deg, #fa752f 40%, #ffb347 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 12px;
      font-size: 1.05em;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(250,117,47,0.14);
      cursor: pointer;
      transition: background 0.2s, transform 0.12s;
    }
    .login-btn:hover, .login-btn:focus {
      background: linear-gradient(90deg, #ffb347 0%, #fa752f 100%);
      transform: translateY(-2px) scale(1.02);
    }

    /* Responsive */
    @media (max-width: 740px) {
      .login-container { flex-direction: column; gap: 18px; padding: 18px; max-width: 420px; }
      .login-form { width: 100%; max-width: 100%; }
      .fox-area { width: 220px; height: 260px; }
      .fox-wrapper { width: 190px; height: 240px; }
      .fox-head { width: 130px; height: 130px; top: 8px; left: 50%; transform: translateX(-50%); }
      .fox-eyes { width: 130px; height: 130px; top: 8px; left: 50%; transform: translateX(-50%); }
      .fox-body { width: 150px; top: 110px; }
      .fox-tail { width: 90px; left: 6%; top: 118px; }
      .fox-eye { width: 10.5px; height: 10.5px; top: 63px; }
      .fox-eye.left { left: 20px; }
      .fox-eye.right { right: 20px; }
      .fox-paw { width: 18px; height: 12px; top: 86px; left: auto; right: auto; }
      .fox-paw.left { left: 34px; transform: rotate(-8deg); }
      .fox-paw.right { right: 34px; transform: rotate(8deg); }
    }
  </style>
</head>
<body>
  <div class="login-container" aria-live="polite">
    <div class="fox-area" aria-hidden="true">
      <div class="fox-wrapper">
        <div class="fox-tail" id="foxTail">
          <!-- Replace these with actual PNGs in the repo, these paths are preserved -->
          <img src="fox-tail.png" alt="Fox Tail" style="width:100%;display:block;">
        </div>
        <div class="fox-body" id="foxBody">
          <img src="fox-body.png" alt="Fox Body" style="width:100%;display:block;">
        </div>
        <div class="fox-head" id="foxHead">
          <img src="fox-head.png" alt="Fox Head" style="width:100%;height:100%;display:block;">
        </div>

        <!-- Eyes overlay: these move independently for "follow" -->
        <div class="fox-eyes" id="foxEyes">
          <div class="fox-eye left" id="eyeL"><div class="fox-eye-shine"></div></div>
          <div class="fox-eye right" id="eyeR"><div class="fox-eye-shine"></div></div>
        </div>

        <!-- Paws -->
        <div class="fox-paw left" id="pawL"><div class="fox-claw"></div></div>
        <div class="fox-paw right" id="pawR"><div class="fox-claw"></div></div>
      </div>
    </div>

    <form class="login-form" autocomplete="off" onsubmit="event.preventDefault(); alert('Logged in! (demo)');">
      <div class="input-group">
        <label for="email">Email</label>
        <input id="email" name="email" type="email" autocomplete="username" placeholder="Enter your email" required>
      </div>

      <div class="input-group">
        <label for="password">Password</label>
        <input id="password" name="password" type="password" autocomplete="current-password" placeholder="Enter your password" required>
        <button class="show-password-btn" id="showPwdBtn" type="button" aria-pressed="false" aria-label="Show password">&#128065;</button>
      </div>

      <button class="login-btn" type="submit">Log In</button>
    </form>
  </div>

  <script>
    // Elements
    const emailInput = document.getElementById('email');
    const pwdInput = document.getElementById('password');
    const showBtn = document.getElementById('showPwdBtn');

    const foxArea = document.querySelector('.fox-area');
    const foxEyes = document.getElementById('foxEyes');
    const eyeL = document.getElementById('eyeL');
    const eyeR = document.getElementById('eyeR');
    const pawL = document.getElementById('pawL');
    const pawR = document.getElementById('pawR');
    const foxTail = document.getElementById('foxTail');

    let isPwdFocused = false;
    let isShowingPwd = false;

    // Utility: keep eyes constrained in a small circle inside each eye element
    function setEyePosition(eyeEl, dx, dy) {
      // limit movement to radius (px)
      const maxX = 6;
      const maxY = 4;
      const x = Math.max(-maxX, Math.min(maxX, dx));
      const y = Math.max(-maxY, Math.min(maxY, dy));
      eyeEl.style.transform = `translate(${x}px, ${y}px)`;
    }

    // Eyes follow email field caret/typing length and also follow mouse over the fox-area
    function updateEyesByEmailLength() {
      const len = Math.min(30, emailInput.value.length);
      // map len 0..30 to -3..3
      const x = (len / 30) * 6 - 3;
      const y = -(Math.min(10, len) / 10) * 2.5; // small upward with length
      setEyePosition(eyeL, x, y);
      setEyePosition(eyeR, x, y);
    }

    emailInput.addEventListener('input', () => {
      updateEyesByEmailLength();
    });
    emailInput.addEventListener('focus', () => {
      updateEyesByEmailLength();
    });
    emailInput.addEventListener('blur', () => {
      // reset eyes slightly centered
      setEyePosition(eyeL, 0, 0);
      setEyePosition(eyeR, 0, 0);
    });

    // Eyes follow pointer when pointer is over fox area (more natural)
    foxArea.addEventListener('mousemove', (e) => {
      const rect = foxEyes.getBoundingClientRect();

      // compute pointer relative to center of eyes overlay (-1..1 range)
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;
      const dx = (e.clientX - cx) / (rect.width / 2); // -1..1
      const dy = (e.clientY - cy) / (rect.height / 2); // -1..1

      // apply scaled movement
      setEyePosition(eyeL, dx * 6, dy * 4);
      setEyePosition(eyeR, dx * 6, dy * 4);
    });

    foxArea.addEventListener('mouseleave', () => {
      // revert to email-based position or center
      updateEyesByEmailLength();
    });

    // Paws logic (covering eyes when focusing password)
    pwdInput.addEventListener('focus', () => {
      isPwdFocused = true;
      updateFoxPaws();
    });
    pwdInput.addEventListener('blur', () => {
      isPwdFocused = false;
      updateFoxPaws();
    });

    showBtn.addEventListener('click', () => {
      isShowingPwd = !isShowingPwd;
      pwdInput.type = isShowingPwd ? 'text' : 'password';
      showBtn.innerHTML = isShowingPwd ? '&#128064;' : '&#128065;';
      showBtn.setAttribute('aria-pressed', isShowingPwd ? 'true' : 'false');
      updateFoxPaws();
      // keep focus on password after toggling
      pwdInput.focus();
    });

    function updateFoxPaws() {
      pawL.classList.remove('cover', 'peek');
      pawR.classList.remove('cover', 'peek', 'right');

      if (isPwdFocused && !isShowingPwd) {
        // Both paws cover
        pawL.classList.add('cover');
        pawR.classList.add('cover', 'right');
      } else if (isPwdFocused && isShowingPwd) {
        // Peeking: left paw down (peek), right paw covers (so one peeks)
        pawL.classList.add('peek');
        pawR.classList.add('cover', 'right');
      } else {
        // default state: small breathing motion (fade out)
        pawL.style.opacity = '';
        pawR.style.opacity = '';
      }
    }
    updateFoxPaws();

    // Gentle tail wag when mouse over fox area, faster wag
    let tailHovering = false;
    foxArea.addEventListener('mouseenter', () => {
      foxTail.style.animationDuration = '0.9s';
      foxTail.style.animationTimingFunction = 'ease-in-out';
    });
    foxArea.addEventListener('mouseleave', () => {
      foxTail.style.animationDuration = '1.6s';
    });

    // Accessibility: when form fields are focused via keyboard, show paws behavior too
    emailInput.addEventListener('keydown', (e) => {
      // small subtle look direction if user types
      updateEyesByEmailLength();
    });

    // Initial small idle eye micro-movement to make it feel "alive"
    (function idleEyeMotion() {
      let t = 0;
      setInterval(() => {
        t += 0.04;
        // tiny oscillation when not interacting
        if (document.activeElement !== emailInput && !foxArea.matches(':hover')) {
          const ox = Math.sin(t) * 1.2;
          const oy = Math.cos(t * 0.7) * 0.6;
          setEyePosition(eyeL, ox, oy);
          setEyePosition(eyeR, ox, oy);
        }
      }, 40);
    })();

    // Make sure everything is visible on load (compensate for missing images or sizes)
    window.addEventListener('load', () => {
      // Small layout sanity: if images are big or missing, ensure wrapper keeps things visible
      document.querySelectorAll('.fox-wrapper img').forEach(img => {
        img.style.display = 'block';
        img.style.maxWidth = '100%';
        img.style.height = 'auto';
      });
      // center eyes initially
      setEyePosition(eyeL, 0, 0);
      setEyePosition(eyeR, 0, 0);
    });
  </script>
</body>
</html>
